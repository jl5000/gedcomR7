# Generated by roxytest: do not edit by hand!

# File R/cls_record.R: @tests

test_that("Function Record() @ L18", {
  ged <- read_gedcom(test_path("maximal70-fixed.ged"))
  
  for(rec_type in names(ged@xref_prefixes)){
    xrefs <- ged@c_xrefs[[rec_type]]
    
    for(xref in xrefs){
      rec_raw <- S7::prop(ged, rec_type)[[xref]]
      
      # Remove extension tags
      rec_raw <- rec_raw[grepl(anchor_it(reg_tag()), parse_line_tag(rec_raw))]
      rec_parsed <- suppressWarnings(pull_record(ged, xref))
      
      expect_equal(rec_parsed@c_as_ged, rec_raw)
    }
  }
})

